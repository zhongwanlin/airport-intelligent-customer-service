{"version":3,"sources":["webpack:///./src/pages/system/roleManage.vue?d2b0","webpack:///./src/pages/system/roleManage.vue?0824","webpack:///src/pages/system/roleManage.vue","webpack:///./src/pages/system/roleManage.vue?9b7c","webpack:///./src/pages/system/roleManage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","model","value","searchInfo","callback","$$v","$set","expression","on","showNew","reflesh","height","isLoading","columnsRealTime","realTimeDataList","scopedSlots","_u","key","fn","ref","row","index","$event","showRoleFunctions","showEdit","deleteAction","count","pageSizeChange","pageRowChange","top","isDetail","itemInfo","slot","disable","saveAction","isFunction","selectFunction","length","uploadFunctionDataToServer","functionsTableRowList","selectFunctionsChange","selectRoleFunction","deleteRoleFunctions","isModalLoading","roleFunctionColumsList","roleFunctionTableRowList","selectRoleFunctionsChange","roleFunctionPageInfo","staticRenderFns","component"],"mappings":"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","file":"js/chunk-4a583252.7949f87a.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/_vue-loader@15.9.4@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.4@vue-loader/lib/index.js??vue-loader-options!./roleManage.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"searchWrap\"},[_c('div',{staticClass:\"search\"},[_c('table',[_c('tr',[_c('td',[_vm._v(\"\\n                          角色名称\\n                        \"),[_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"clearable\":\"\",\"placeholder\":\"请输入角色名称\"},model:{value:(_vm.searchInfo.name),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"name\", $$v)},expression:\"searchInfo.name\"}})],[_c('div',{staticClass:\"searchBtnList\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-add-circle\"},on:{\"click\":_vm.showNew}},[_vm._v(\"新增\")]),_c('Button',{attrs:{\"icon\":\"ios-refresh-circle\"},on:{\"click\":_vm.reflesh}},[_vm._v(\"重置\")])],1)]],2)])])])]),_c('div',{staticClass:\"tableList\"},[[_c('Table',{attrs:{\"height\":_vm.height-100,\"border\":\"\",\"stripe\":\"\",\"loading\":_vm.isLoading,\"columns\":_vm.columnsRealTime,\"data\":_vm.realTimeDataList},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showRoleFunctions(row)}}},[_vm._v(\"权限设置\")]),_vm._v(\"  \\n                    \"),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showEdit(row)}}},[_vm._v(\"修改\")]),_vm._v(\"  \\n                    \"),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteAction(row)}}},[_vm._v(\"删除\")])]}}])})]],2),_c('div',{staticClass:\"pageWrap\"},[[_c('Page',{attrs:{\"total\":_vm.count,\"page-size\":50,\"page-size-opts\":[50, 100, 150],\"show-sizer\":\"\",\"showTotal\":\"\"},on:{\"on-change\":_vm.pageSizeChange,\"on-page-size-change\":_vm.pageRowChange}})]],2),[_c('Modal',{staticClass:\"noContentPadding noHeaderModal\",attrs:{\"mask-closable\":false,\"width\":\"30\",\"styles\":{top: '5%'},\"title\":\"角色录入\"},on:{\"on-cancel\":function($event){_vm.isDetail=false}},model:{value:(_vm.isDetail),callback:function ($$v) {_vm.isDetail=$$v},expression:\"isDetail\"}},[_c('div',{staticClass:\"modalTable\"},[_c('div',{staticClass:\"detail\"},[_c('table',[_c('tr',[_c('td',[_c('span',{staticClass:\"request\"},[_vm._v(\"*\")]),_vm._v(\"角色名称：\\n                                \"),_c('div',[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"填写角色名称,2~8为字符\"},model:{value:(_vm.itemInfo.name),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"name\", $$v)},expression:\"itemInfo.name\"}})],1)])]),_c('tr',[_c('td',[_vm._v(\"\\n                                角色描述：\\n                                \"),_c('div',[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"填写角色描述\"},model:{value:(_vm.itemInfo.description),callback:function ($$v) {_vm.$set(_vm.itemInfo, \"description\", $$v)},expression:\"itemInfo.description\"}})],1)])])])])]),_c('div',{staticClass:\"modalFooter\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[[_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"default\"},on:{\"click\":function($event){_vm.isDetail=false}}},[_vm._v(\"关闭\")]),_c('Button',{attrs:{\"type\":\"primary\",\"disable\":_vm.disable},on:{\"click\":_vm.saveAction}},[_vm._v(\"提交\")])]],2)])],[_c('Modal',{staticClass:\"noContentPadding\",attrs:{\"mask-closable\":false,\"footer-hide\":true,\"width\":\"70\",\"styles\":{top: '5%'},\"title\":\"角色权限\"},on:{\"on-cancel\":function($event){_vm.isFunction=false}},model:{value:(_vm.isFunction),callback:function ($$v) {_vm.isFunction=$$v},expression:\"isFunction\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"8\"}},[_c('div',{staticClass:\"searchWrap\",staticStyle:{\"min-height\":\"auto\"}},[_c('div',{staticClass:\"search\"},[_c('table',[_c('tr',[_c('td',[_c('span',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"权限列表\")]),[_c('div',{staticClass:\"searchBtnList\"},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.selectFunction.length==0},on:{\"click\":_vm.uploadFunctionDataToServer}},[_vm._v(\"添加\")])],1)]],2)])])])]),_c('div',{staticStyle:{\"position\":\"relative\",\"z-index\":\"0\",\"height\":\"350px\",\"overflow\":\"auto\",\"padding\":\"0 10px\"}},[_c('Tree',{attrs:{\"data\":_vm.functionsTableRowList,\"show-checkbox\":\"\"},on:{\"on-check-change\":_vm.selectFunctionsChange}})],1)]),_c('Col',{attrs:{\"span\":\"16\"}},[_c('div',{staticClass:\"searchWrap\",staticStyle:{\"min-height\":\"auto\"}},[_c('div',{staticClass:\"search\"},[_c('table',[_c('tr',[_c('td',[_c('span',{staticStyle:{\"font-size\":\"16px\"}},[_vm._v(\"绑定的权限\")]),[_c('div',{staticClass:\"searchBtnList\"},[_c('Button',{attrs:{\"type\":\"error\",\"disabled\":_vm.selectRoleFunction.length==0,\"size\":\"small\"},on:{\"click\":_vm.deleteRoleFunctions}},[_vm._v(\"删除\")])],1)]],2)])])])]),_c('div',{staticClass:\"tableList\"},[[_c('Table',{attrs:{\"height\":300,\"border\":\"\",\"stripe\":\"\",\"loading\":_vm.isModalLoading,\"columns\":_vm.roleFunctionColumsList,\"data\":_vm.roleFunctionTableRowList},on:{\"on-selection-change\":_vm.selectRoleFunctionsChange}})]],2),_c('div',{staticClass:\"pageWrap\"},[[_c('Page',{attrs:{\"total\":_vm.roleFunctionPageInfo.count,\"page-size\":50,\"page-size-opts\":[50, 100, 150],\"show-sizer\":\"\",\"showTotal\":\"\"},on:{\"on-change\":_vm.pageSizeChange,\"on-page-size-change\":_vm.pageRowChange}})]],2)])],1)],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"page\">\r\n        <div class=\"searchWrap\">\r\n            <div class=\"search\">\r\n                <table>\r\n                    <tr>\r\n                        <td>\r\n                            &nbsp;&nbsp;角色名称\r\n                            <template>\r\n                                <Input v-model=\"searchInfo.name\" clearable placeholder=\"请输入角色名称\" style=\"width:150px;\"/>\r\n                            </template>\r\n                            <template>\r\n                                <div class=\"searchBtnList\">\r\n                                    <Button type=\"primary\" icon=\"ios-add-circle\" @click=\"showNew\">新增</Button>\r\n                                    <Button icon=\"ios-refresh-circle\" @click=\"reflesh\">重置</Button>\r\n                                </div>\r\n                            </template>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"tableList\">\r\n            <template>\r\n                <Table :height=\"height-100\" border stripe :loading=\"isLoading\" :columns=\"columnsRealTime\" :data=\"realTimeDataList\">\r\n                    <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n                        <Button type=\"warning\" size=\"small\" @click=\"showRoleFunctions(row)\">权限设置</Button>&nbsp;&nbsp;\r\n                        <Button type=\"primary\" size=\"small\" @click=\"showEdit(row)\">修改</Button>&nbsp;&nbsp;\r\n                        <Button type=\"error\" size=\"small\" @click=\"deleteAction(row)\">删除</Button>\r\n                    </template>\r\n                </Table>\r\n            </template>\r\n        </div>\r\n        <div class=\"pageWrap\">\r\n            <template>\r\n                <Page :total=\"count\" @on-change=\"pageSizeChange\" @on-page-size-change=\"pageRowChange\" :page-size=\"50\" :page-size-opts=\"[50, 100, 150]\" show-sizer showTotal />\r\n            </template>\r\n        </div>\r\n\r\n        <template>\r\n            <Modal v-model=\"isDetail\" class=\"noContentPadding noHeaderModal\" :mask-closable=\"false\" width=\"30\" :styles=\"{top: '5%'}\" title=\"角色录入\" @on-cancel=\"isDetail=false\">\r\n                <div class=\"modalTable\">\r\n                    <div class=\"detail\">\r\n                        <table>\r\n                            <tr>\r\n                                <td>\r\n                                    <span class=\"request\">*</span>角色名称：\r\n                                    <div><Input v-model=\"itemInfo.name\" placeholder=\"填写角色名称,2~8为字符\" style=\"width: 100%\" /></div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>\r\n                                    角色描述：\r\n                                    <div><Input v-model=\"itemInfo.description\" placeholder=\"填写角色描述\" style=\"width: 100%\" /></div>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n                <div slot=\"footer\" class=\"modalFooter\">\r\n                    <template>\r\n                        <Button type=\"default\" @click=\"isDetail=false\" style=\"margin-right: 5px\">关闭</Button>\r\n                        <Button type=\"primary\" @click=\"saveAction\" :disable=\"disable\">提交</Button>\r\n                    </template>\r\n                </div>\r\n            </Modal>\r\n        </template>\r\n\r\n        <template>\r\n            <Modal v-model=\"isFunction\" class=\"noContentPadding\" :mask-closable=\"false\" :footer-hide=\"true\" width=\"70\" :styles=\"{top: '5%'}\" title=\"角色权限\" @on-cancel=\"isFunction=false\">\r\n                <Row>\r\n                    <Col span=\"8\">\r\n                        <div class=\"searchWrap\" style=\"min-height: auto;\">\r\n                            <div class=\"search\">\r\n                                <table>\r\n                                    <tr>\r\n                                        <td>\r\n                                            <span style=\"font-size: 16px;\">权限列表</span>\r\n                                            <template>\r\n                                                <div class=\"searchBtnList\">\r\n                                                    <Button type=\"primary\" size=\"small\" :disabled=\"selectFunction.length==0\" @click=\"uploadFunctionDataToServer\">添加</Button>\r\n                                                </div>\r\n                                            </template>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div style=\"position: relative; z-index: 0; height: 350px; overflow: auto; padding: 0 10px;\">\r\n                            <Tree :data=\"functionsTableRowList\" @on-check-change=\"selectFunctionsChange\" show-checkbox></Tree>\r\n                        </div>\r\n                    </Col>\r\n                    <Col span=\"16\">\r\n                        <div class=\"searchWrap\" style=\"min-height: auto;\">\r\n                            <div class=\"search\">\r\n                                <table>\r\n                                    <tr>\r\n                                        <td>\r\n                                            <span style=\"font-size: 16px;\">绑定的权限</span>\r\n                                            <template>\r\n                                                <div class=\"searchBtnList\">\r\n                                                    <Button type=\"error\" :disabled=\"selectRoleFunction.length==0\" size=\"small\" @click=\"deleteRoleFunctions\">删除</Button>\r\n                                                </div>\r\n                                            </template>\r\n                                        </td>\r\n                                    </tr>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"tableList\">\r\n                            <template>\r\n                                <Table :height=\"300\" border stripe @on-selection-change=\"selectRoleFunctionsChange\" :loading=\"isModalLoading\" :columns=\"roleFunctionColumsList\" :data=\"roleFunctionTableRowList\"></Table>\r\n                            </template>\r\n                        </div>\r\n                        <div class=\"pageWrap\">\r\n                            <template>\r\n                                <Page :total=\"roleFunctionPageInfo.count\" @on-change=\"pageSizeChange\" @on-page-size-change=\"pageRowChange\" :page-size=\"50\" :page-size-opts=\"[50, 100, 150]\" show-sizer showTotal />\r\n                            </template>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </Modal>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"role\",\r\n    components: { },\r\n    data: () => ({\r\n        userInfo: null,\r\n        height: window.innerHeight,\r\n        isModalLoading: false,\r\n        isDetail: false,\r\n        isFunction: false,\r\n        isInfo: false,\r\n        disable: false,\r\n        isLoading: false,\r\n        count: 0,\r\n        pageInfo: {\r\n            pageIndex: 0,\r\n            pageSize: 50,\r\n        },\r\n        searchInfo: {\r\n            \"name\": \"\", // 角色名称\r\n        },\r\n        itemInfo: {\r\n            \"id\": \"\", // 系统角色ID，修改时必传\r\n            \"description\": \"\",\r\n            \"menu_auth\": \"\",\r\n            \"name\": \"\",\r\n        },\r\n        columnsRealTime: [\r\n            {\r\n                align: \"center\",\r\n                title: \"序号\",\r\n                type: \"index\",\r\n                width: 60,\r\n            },\r\n            {\r\n                title: \"角色名称\",\r\n                align: \"center\",\r\n                key: \"name\",\r\n            },\r\n            // {\r\n            //     title: \"状态\",\r\n            //     align: \"center\",\r\n            //     key: \"status\",\r\n            //     slot: \"status\"\r\n            // },\r\n            {\r\n                title: \"角色描述\",\r\n                align: \"center\",\r\n                key: \"description\",\r\n            },\r\n            {\r\n                align: \"center\",\r\n                title: \"操作\",\r\n                width: 220,\r\n                slot: 'action'\r\n            }\r\n        ],\r\n        realTimeDataList: [],\r\n        companyList: [],\r\n\r\n        roleFunctionPageInfo: {\r\n            \"count\": 0,\r\n            \"pageNum\": 1,\r\n            \"pageSize\": 20,\r\n            \"roleId\": \"\", // 角色ID\r\n            \"companyId\": \"\", // 公司ID\r\n        },\r\n        roleFunctionColumsList: [{\r\n            \"type\": \"selection\",\r\n            \"width\": 60,\r\n            \"align\": \"center\"\r\n        },\r\n        {\r\n            \"title\": \"公司名称\",\r\n            \"align\": \"center\",\r\n            \"key\": \"companyName\",\r\n            \"width\": 250\r\n        },\r\n        {\r\n            \"title\": \"角色名称\",\r\n            \"align\": \"center\",\r\n            \"key\": \"roleName\"\r\n        },\r\n        {\r\n            \"title\": \"功能名称\",\r\n            \"align\": \"center\",\r\n            \"key\": \"functionName\"\r\n        }],\r\n        roleFunctionTableRowList: [],\r\n        functionsTableRowList: [],\r\n        selectFunction: [],\r\n        selectRoleFunction: []\r\n    }),\r\n    methods: {\r\n        pageSizeChange(value) {\r\n            var self = this;\r\n            self.pageInfo.pageIndex = parseInt(value, 10);\r\n            self.getList(true);\r\n        },\r\n        pageRowChange(value) {\r\n            var self = this;\r\n            self.pageInfo.pageSize = parseInt(value, 10);\r\n            self.getList(false);\r\n        },\r\n        reflesh(){\r\n            var self = this;\r\n            self.getList(true);\r\n        },\r\n\r\n        // 获取公司列表\r\n        getList(bool){\r\n            var self = this;\r\n            if (bool == true) {\r\n                self.isLoading = true;\r\n                self.pageInfo.pageIndex = 0;\r\n            }\r\n            self.axios({\r\n                method: 'get',\r\n                url: self.$config.action.roleList,\r\n                params: {\r\n                    \"pageNum\": self.pageInfo.pageIndex,\r\n                    \"pageSize\": self.pageInfo.pageSize,\r\n                }\r\n            })\r\n            .then(function (res) {\r\n                self.realTimeDataList = res.data.list;\r\n                self.count = res.data.count;\r\n                if(res.data.code=='0') {\r\n                    self.realTimeDataList = res.data.list;\r\n                    self.count = res.data.count;\r\n                } else if(res.data.code=='9003') {\r\n                    self.utility.loginTimeOut(self);\r\n                } else {\r\n                    self.$Message.error(res.data.message);\r\n                }\r\n                self.isLoading = false;\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                self.isLoading = false;\r\n            });\r\n        },\r\n        // 显示新增\r\n        showNew(){\r\n            let self = this;\r\n            self.itemInfo = {\r\n                \"id\": \"\", // 系统角色ID，修改时必传\r\n                \"description\": \"\",\r\n                \"menu_auth\": \"\",\r\n                \"name\": \"\",\r\n            };\r\n            self.itemInfo.companyId = !!self.companyList[0]?self.companyList[0][\"id\"]:'';\r\n            self.isDetail = true;\r\n        },\r\n        // 显示编辑\r\n        showEdit(item){\r\n            let self = this;\r\n            for(var key in item) {\r\n                self.itemInfo[key] = item[key];\r\n            }\r\n            self.isDetail = true;\r\n        },\r\n        // 显示详情\r\n        showInfo(item){\r\n            let self = this;\r\n            for(var key in item) {\r\n                self.itemInfo[key] = item[key];\r\n            }\r\n            self.isInfo = true;\r\n        },\r\n        // 保存公司\r\n        saveAction(){\r\n            let self = this;\r\n            \r\n            if(self.itemInfo.name.trim().length==0) {\r\n                self.$Message.error(\"请输入角色名称\");\r\n                return;\r\n            }\r\n            \r\n            self.disable = true;\r\n            self.axios({\r\n                method: 'post',\r\n                url: !self.itemInfo.id?self.$config.action.roleAdd:self.$config.action.roleEdit,\r\n                data: {\r\n                    \"id\": self.itemInfo.id || 0, \r\n                    \"description\": self.itemInfo.description,\r\n                    \"menu_auth\": self.itemInfo.menu_auth,\r\n                    \"name\": self.itemInfo.name\r\n                }\r\n            })\r\n            .then(function (res) {\r\n                if(res.data.code=='0') {\r\n                    self.$Message.success(\"提交成功\");\r\n                    self.getList(false);\r\n                    self.isDetail = false;\r\n                    self.itemInfo = {\r\n                        \"id\": \"\", // 系统角色ID，修改时必传\r\n                        \"companyId\": \"\", // 所属公司ID，手动从公司列表选择\r\n                        \"roleName\": \"\", // 角色名称\r\n                        \"roleCode\": \"\", // 角色编码\r\n                        \"roleDesc\": \"\", // 角色描述\r\n                        \"isValid\": 1, // 分组是否可用，默认=1 0=否 1=是\r\n                        \"isPublic\": 1, // 是否公共角色 0=否 1=是\r\n                        \"createUserId\": \"\", // 创建用户ID，新增时必传\r\n                        \"modifyUserId\": \"\", // 修改用户ID，修改时必传\r\n                    };\r\n                } else if(res.data.code=='9003') {\r\n                    self.utility.loginTimeOut(self);\r\n                } else {\r\n                    self.$Message.error(res.data.message);\r\n                }\r\n                self.disable = false;\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                self.disable = false;\r\n            });\r\n        },\r\n        // 删除公司\r\n        deleteAction(item){\r\n            let self = this;\r\n            self.$Modal.confirm({\r\n                \"title\": \"确定删除\"+ item.name+\"?\",\r\n                onOk() {\r\n                    self.axios({\r\n                        method: 'post',\r\n                        url: self.$config.action.roleDelete,\r\n                        data: {\r\n                            \"id\": item.id\r\n                        }\r\n                    })\r\n                    .then(function (res) {\r\n                        if(res.data.code=='0') {\r\n                            self.$Message.success(\"删除成功\");\r\n                            self.getList(true);\r\n                        } else if(res.data.code=='9003') {\r\n                            self.utility.loginTimeOut(self);\r\n                        } else {\r\n                            self.$Message.error(res.data.message);\r\n                        }\r\n                    })\r\n                    .catch(function (error) {\r\n                        console.log(error);\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        // 启用或禁用\r\n        enableOrNot(value, row){\r\n            let self = this;\r\n            self.axios({\r\n                method: 'post',\r\n                headers: {\r\n                    token: self.userInfo.token\r\n                },\r\n                url: value==1?self.$config.action.roleEnable:self.$config.action.roleDisable,\r\n                data: {\r\n                    \"id\": row.id\r\n                }\r\n            })\r\n            .then(function (res) {\r\n                if (res.data.code == '0') {\r\n                    self.$Message.success(\"修改成功\");\r\n                    self.getList(false);\r\n                } else if (res.data.code == \"419\") {\r\n                    self.$utility.loginTimeOut(self);\r\n                } else {\r\n                    self.$Message.error(res.data.msg);\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n        showRoleFunctions(item){\r\n            let self = this;\r\n            self.roleFunctionPageInfo.companyId = item.companyId;\r\n            self.roleFunctionPageInfo.roleId = item.id;\r\n            self.isFunction = true;\r\n            self.getFunctionsDataList();\r\n            self.getRoleFunctionsDataList(true);\r\n        },\r\n        // 页数改变时的回调\r\n        roleFunctionsPageSizeChange: function (value) {\r\n            var self = this;\r\n            self.roleFunctionPageInfo.pageNum = parseInt(value, 10);\r\n            setTimeout(function () {\r\n                self.getRoleFunctionsDataList(false);\r\n            }, 200);\r\n        },\r\n        // 切换每页条数时的回调\r\n        roleFunctionsPageRowChange: function (value) {\r\n            var self = this;\r\n            self.roleFunctionPageInfo.pageSize = parseInt(value, 10);\r\n            setTimeout(function () {\r\n                self.getRoleFunctionsDataList(false);\r\n            }, 200);\r\n        },\r\n        // 获取角色可用功能列表数据接口\r\n        getRoleFunctionsDataList: function (bool) {\r\n            var self = this;\r\n            if (bool == true) {\r\n                self.roleFunctionPageInfo.pageNum = 1;\r\n            }\r\n            self.isModalLoading = true;\r\n            self.axios({\r\n                method: 'post',\r\n                headers: self.$utility.setHeader(self.$config.service.permissionService),\r\n                url: self.$config.action.getRoleFunctionList,\r\n                data: self.$qs.stringify({\r\n                    \"pageNum\": self.roleFunctionPageInfo.pageNum,\r\n                    \"pageSize\": self.roleFunctionPageInfo.pageSize,\r\n                    \"companyId\": self.roleFunctionPageInfo.companyId,\r\n                    \"roleId\": self.roleFunctionPageInfo.roleId,\r\n                })\r\n            })\r\n            .then(function (res) {\r\n                if(res.data.code=='0') {\r\n                    self.roleFunctionTableRowList = res.data.data;\r\n                    self.roleFunctionPageInfo.count = res.data.count;\r\n                } else if(res.data.code=='9003') {\r\n                    self.utility.loginTimeOut(self);\r\n                } else {\r\n                    self.$Message.error(res.data.message);\r\n                }\r\n                self.isModalLoading = false;\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                self.isModalLoading = false;\r\n            });\r\n        },\r\n        setChecked: function () {\r\n            var self = this;\r\n            for (var i = 0, len = self.roleFunctionTableRowList.length; i < len; i++) {\r\n                self.getSuper(self.functionsTableRowList, self.roleFunctionTableRowList[i][\"functionId\"]);\r\n            }\r\n        },\r\n        // 当选择的行发生变化时 \r\n        selectFunctionsChange: function (selection) {\r\n            var self = this;\r\n            var ids = [];\r\n\r\n            for (var i = 0, len = selection.length; i < len; i++) {\r\n                ids.push(selection[i][\"id\"]);\r\n            }\r\n\r\n            self.selectFunction = ids;\r\n        },\r\n        // 格式化系统操作权限功能\r\n        formatFunctions: function (list) {\r\n            var self = this;\r\n            var fun = JSON.stringify(list).replace(/(subFunctionList)/g, 'children').replace(/(functionName)/g, 'title').replace(/isValid/g, 'expand');\r\n            self.functionsTableRowList = JSON.parse(fun);\r\n            console.log(self.functionsTableRowList);\r\n            self.setChecked();\r\n        },\r\n        // 获取系统操作权限功能项目列表接口\r\n        getFunctionsDataList: function (bool) {\r\n            var self = this;\r\n            self.functionsTableRowList = [];\r\n            self.axios({\r\n                method: 'post',\r\n                headers: self.$utility.setHeader(self.$config.service.permissionService),\r\n                url: self.$config.action.getFunctionTreeList,\r\n                data: self.$qs.stringify({\r\n                    \"pageNum\": 1,\r\n                    \"pageSize\": 100000,\r\n                })\r\n            })\r\n            .then(function (res) {\r\n                if(res.data.code=='0') {\r\n                    self.formatFunctions(res.data.data);\r\n                } else if(res.data.code=='9003') {\r\n                    self.utility.loginTimeOut(self);\r\n                } else {\r\n                    self.$Message.error(res.data.message);\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n        // 添加权限\r\n        uploadFunctionDataToServer: function () {\r\n            var self = this;\r\n            self.axios({\r\n                method: 'post',\r\n                headers: self.$utility.setHeader(self.$config.service.permissionService),\r\n                url: self.$config.action.saveRoleFunction,\r\n                data: self.$qs.stringify({\r\n                    \"roleId\": self.roleFunctionPageInfo.roleId, // 系统角色ID，修改时必传\r\n                    \"companyId\": self.roleFunctionPageInfo.companyId, // 所属公司ID，手动从公司列表选择\r\n                    \"functionIds\": self.selectFunction.join(\",\"), // 角色名称\r\n                    \"createUserId\": self.userInfo[\"id\"], // 创建用户ID，新增时必传\r\n                    \"modifyUserId\": self.userInfo[\"id\"], // 修改用户ID，修改时必传\r\n                })\r\n            })\r\n            .then(function (res) {\r\n                if(res.data.code=='0') {\r\n                    self.getRoleFunctionsDataList(true);\r\n                } else if(res.data.code=='9003') {\r\n                    self.utility.loginTimeOut(self);\r\n                } else {\r\n                    self.$Message.error(res.data.message);\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n        // 当选择的行发生变化时 \r\n        selectRoleFunctionsChange: function (selection) {\r\n            var self = this;\r\n            var ids = [];\r\n\r\n            for (var i = 0, len = selection.length; i < len; i++) {\r\n                ids.push(selection[i][\"id\"]);\r\n            }\r\n\r\n            self.selectRoleFunction = ids;\r\n        },\r\n        // 删除角色可用功能\r\n        \"deleteRoleFunctions\": function () {\r\n            var self = this;\r\n            self.isModalLoading = true;\r\n            self.axios({\r\n                method: 'post',\r\n                headers: self.$utility.setHeader(self.$config.service.permissionService),\r\n                url: self.$config.action.delRoleFunction,\r\n                data: self.$qs.stringify({\r\n                    \"ids\": self.selectRoleFunction.join(\",\"),\r\n                    \"modifyUserId\": self.userInfo[\"id\"], // 修改用户ID，修改时必传\r\n                })\r\n            })\r\n            .then(function (res) {\r\n                if(res.data.code=='0') {\r\n                    self.getRoleFunctionsDataList(true);\r\n                } else if(res.data.code=='9003') {\r\n                    self.utility.loginTimeOut(self);\r\n                } else {\r\n                    self.$Message.error(res.data.message);\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n        },\r\n    },\r\n    created() {\r\n        let self = this;\r\n        let userTimeOut = null;\r\n        self.userInfo = self.$utility.getLocalStorage(\"userInfo\");\r\n        \r\n        self.getList(true); // 获取角色\r\n\r\n        self.$watch('searchInfo', function () {\r\n            clearTimeout(userTimeOut);\r\n            userTimeOut = setTimeout(() => {\r\n                self.getList(true);\r\n            }, 200);\r\n        }, {\r\n            deep: true\r\n        });\r\n    },\r\n    mounted() {\r\n        let self = this;\r\n        let resizeTime = null;\r\n        window.onresize = function() {\r\n            clearTimeout(resizeTime);\r\n            resizeTime = setTimeout(function () {\r\n                self.height = window.innerHeight;\r\n            }, 500);\r\n        };\r\n    },\r\n    beforeDestroy(){\r\n        clearInterval(window.recordTime);\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"~@/common/unit.less\";\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.4@vue-loader/lib/index.js??vue-loader-options!./roleManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.4@vue-loader/lib/index.js??vue-loader-options!./roleManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roleManage.vue?vue&type=template&id=40e9219c&\"\nimport script from \"./roleManage.vue?vue&type=script&lang=js&\"\nexport * from \"./roleManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roleManage.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.4@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}